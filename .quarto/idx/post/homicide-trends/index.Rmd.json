{"title":"Chart: Much of the homicide drop has already been erased","markdown":{"yaml":{"title":"Chart: Much of the homicide drop has already been erased","author":"Matt Ashby","date":"2019-10-21","slug":"homicide-trends","categories":["Crime and justice chart of the week"],"tags":["crime","homicide","trends"]},"headingText":"custom packages not loaded by helpers.R","containsRefs":false,"markdown":"\n\n```{r set knitr options, include=FALSE}\nknitr::opts_chunk$set(cache = TRUE, include=FALSE)\n```\n\n```{r set chart parameters}\nchart_details <- list(\n\tid = \"homicide-trends\",\n\ttitle = \"Much of the homicide drop has already been erased\",\n\tsubtitle = \"The rapid decrease in the homicide (murder, manslaughter and infanticide) rate in England and Wales between 2000 and 2014 was unprecedented over the previous century, but a third of that decrease has already been reversed.\",\n\tsource_url = \"https://www.gov.uk/government/statistics/historical-crime-data\",\n\tsource_title = \"Home Office, 2019\"\n)\n```\n\n```{r load packages and helper}\nlibrary(\"lubridate\")\nlibrary(\"readxl\")\n\n# load this after loading custom packages\nsource(here::here(\"helpers.R\"))\n```\n\n```{r get and tidy data}\nif (!file.exists(paste0(chart_details$id, \"-data.csv.gz\"))) {\n  \n  # download data up to 2001 from the Home Office\n  data_file <- tempfile()\n  download.file(\"https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/116649/rec-crime-1898-2002.xls\", destfile = data_file)\n  file_data <- read_excel(data_file, skip = 5)\n  \n  # download data for 2002 onwards from ONS\n  download.file(\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/crimeandjustice/datasets/crimeinenglandandwalesappendixtables/yearendingjune2019/appendixtableyearendingjune201915102019170156.xlsx\", destfile = data_file)\n  file_data_new <- read_excel(data_file, sheet = \"Table A4\", skip = 3)\n  \n  tidy_data <- file_data %>% \n    select(2:3) %>% \n    slice(2:101, 104:107) %>% \n    set_names(c(\"year\", \"homicide_count\")) %>% \n    mutate(\n      year = ymd(paste(str_sub(year, 0, 4), \"01\", \"01\")),\n      year = if_else(row_number() >= 101, year + months(3), year)\n    )\n  \n  tidy_data_new <- file_data_new %>% \n    select(3:20) %>%\n    slice(9) %>% \n    pivot_longer(-`...3`, names_to = \"year\", values_to = \"homicide_count\") %>% \n    select(-`...3`) %>% \n    mutate(year = ymd(paste(str_sub(year, 6, 7), \"04\", \"01\")))\n  \n  tidy_data <- bind_rows(tidy_data, tidy_data_new) %>% \n    mutate(homicide_count = as.numeric(homicide_count))\n  \n\t# save tidy data\n\twrite_csv(tidy_data, paste0(chart_details$id, \"-data.csv.gz\"))\t\n\t\n} else {\n  \n\t# load tidy data\n\ttidy_data <- read_csv(paste0(chart_details$id, \"-data.csv.gz\"))\n  \n}\t\n\n# get population data\nif (!file.exists(paste0(chart_details$id, \"-pop-data.csv.gz\"))) {\n  \n  pop_file <- tempfile()\n  download.file(\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland/mid2016detailedtimeseries/ukandregionalpopulationestimates1838to2016.zip\", destfile = pop_file)\n  unzip(pop_file, files = \"UK Population Estimates 1838-2016.xlsx\", \n        exdir = tempdir())\n  \n  pop_data <- read_excel(\n    paste0(tempdir(), \"/UK Population Estimates 1838-2016.xlsx\"), \n    sheet = \"Table 7\", skip = 4\n  ) %>% \n    select(Year, Persons) %>% \n    slice(1:179) %>% \n    clean_names() %>% \n    mutate(year = as.numeric(str_remove(year, \"Mid-\")))\n  \n  pop_data_new <- read_csv(\"https://www.ons.gov.uk/generator?format=csv&uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/timeseries/ewpop/pop\") %>% \n    slice(8:55) %>% \n    clean_names() %>% \n    set_names(c(\"year\", \"persons\")) %>% \n    filter(year > 2016) %>% \n    mutate_all(as.numeric)\n  \n  pop_data <- pop_data %>% \n    bind_rows(pop_data_new) %>% \n    arrange(year)\n  \n\t# save tidy data\n\twrite_csv(pop_data, paste0(chart_details$id, \"-pop-data.csv.gz\"))\t\n\t\n} else {\n  \n\t# load tidy data\n\tpop_data <- read_csv(paste0(chart_details$id, \"-pop-data.csv.gz\"))\n  \n}\n```\n\n```{r prepare data for chart}\nchart_data <- tidy_data %>% \n  mutate(year = year(year)) %>% \n  filter(year > last(year) - 99) %>% \n  select(year, homicides = homicide_count) %>%\n  # move Hillsborough deaths from 2016 to 1989\n  mutate(homicides = case_when(\n    year == 1989 ~ homicides + 96, \n    year == 2016 ~ homicides - 96, \n    TRUE ~ homicides\n  )) %>% \n  left_join(pop_data, by = \"year\") %>% \n  mutate(\n    homicide_rate = (homicides / persons) * 1000000,\n    year = ymd(paste(year, \"01\", \"01\"))\n  )\n\n# add chart labels\nchart_labels <- tribble(\n\t~x, ~y, ~xend, ~yend, ~label, ~hjust, ~vjust, ~curve,\n\tymd(\"1941-01-01\"), 9.25, ymd(\"1937-01-01\"), 11, balance_lines(\"the homicide rate increased during the Second World War\", 4), \"right\", \"center\", \"right\",\n\tymd(\"1961-06-01\"), 5.5, ymd(\"1966-06-01\"), 4.5, balance_lines(\"the homicide rate was lowest in 1961\", 2), \"left\", \"center\", \"right\",\n\tymd(\"1985-01-01\"), 13, ymd(\"1979-01-01\"), 15, balance_lines(\"in the 40 years between 1960 and 2000, the homicide rate trippled\", 3), \"right\", \"center\", \"right\",\n\tymd(\"2002-06-01\"), 19.7, ymd(\"2004-06-01\"), 18.7, balance_lines(\"the 173 Harold Shipman murders are recorded as all occurring in 2002\", 5), \"left\", \"center\", \"right\",\n\tymd(\"2013-06-01\"), 9.1, ymd(\"2008-06-01\"), 8.1, balance_lines(\"after 15 years of decreases, the homicide rate has been rising since 2014\", 3), \"right\", \"center\", \"left\"\n\t# ymd(\"1961-06-01\"), 5.5, ymd(\"1966-06-01\"), 4.5, balance_lines(\"\", 2), \"left\", \"center\", \"right\"\n)\n```\n\n```{r build plot}\nchart <- ggplot(chart_data, aes(year, homicide_rate)) +\n  geom_point(aes(alpha = \"point\"), colour = \"grey75\", na.rm = TRUE) +\n  geom_smooth(aes(colour = \"line\"), method = \"loess\", formula = \"y ~ x\", span = 0.2, se = FALSE, \n              na.rm = TRUE, key_glyph = \"timeseries\", alpha = 1) +\n\t# add explanatory labels\n\tgeom_curve(aes(x = x, y = y, xend = xend, yend = yend),\n\t\t\t\t\t\t data = filter(chart_labels, curve == \"right\"), inherit.aes = FALSE, \n\t\t\t\t\t\t curvature = elements$label_line_curvature, \n\t\t\t\t\t\t colour = elements$label_line_colour, \n\t\t\t\t\t\t arrow = elements$label_arrow, show.legend = FALSE) +\n\tgeom_segment(aes(x = x, y = y, xend = xend, yend = yend),\n\t\t\t\t\t\t data = filter(chart_labels, curve == \"straight\"), \n\t\t\t\t\t\t inherit.aes = FALSE, colour = elements$label_line_colour, \n\t\t\t\t\t\t arrow = elements$label_arrow, show.legend = FALSE) +\n\tgeom_curve(aes(x = x, y = y, xend = xend, yend = yend),\n\t\t\t\t\t\t data = filter(chart_labels, curve == \"left\"), inherit.aes = FALSE, \n\t\t\t\t\t\t curvature = elements$label_line_curvature * -1, \n\t\t\t\t\t\t colour = elements$label_line_colour, \n\t\t\t\t\t\t arrow = elements$label_arrow, show.legend = FALSE) +\n\tgeom_label(aes(x = xend, y = yend, label = label, hjust = hjust, \n\t\t\t\t\t\t\t\t vjust = vjust),\n\t\t\t\t\t\tdata = chart_labels, inherit.aes = FALSE, \n\t\t\t\t\t\tcolour = elements$label_text_colour,\n\t\t\t\t\t\tfill = elements$label_text_fill, size = elements$label_text_size, \n\t\t\t\t\t\tlineheight = elements$label_text_lineheight,\n\t\t\t\t\t\tlabel.size = NA, show.legend = FALSE) +\n\t# end of explanatory labels\n  scale_x_date(date_breaks = \"10 years\", date_labels = \"%Y\", \n               expand = expand_scale(mult = 0.025)) +\n  scale_y_continuous(limits = c(0, NA), \n                     expand = expand_scale(mult = c(0, 0.05))) +\n  scale_colour_manual(\n    values = c(\"line\" = ucl_colours_list[[\"Orange\"]]),\n    labels = c(\"line\" = \"trend estimated from annual rates\")\n  ) + \n  scale_alpha_manual(\n    values = c(\"point\" = 1),\n    labels = c(\"point\" = \"annual homicide rate\")\n  ) +\n\tlabs(\n\t\ttitle = chart_details$title,\n\t\tsubtitle = format_subtitle(chart_details$subtitle),\n\t\tlegend = NULL,\n\t\tx = NULL,\n\t\ty = \"homicides per million people\",\n\t\talpha = NULL,\n\t\tcolour = NULL\n\t) +\n\ttheme_cjcharts() +\n  theme(\n    legend.background = element_rect(fill = \"white\", colour = \"white\"),\n    legend.direction = \"horizontal\",\n    legend.justification = c(0, 0),\n    legend.key.width = unit(1, \"lines\"),\n    legend.margin = margin(3, 4, 3, 4),\n    legend.position = c(0, 0.025),\n    legend.spacing = unit(0, \"lines\"),\n    legend.text = element_text(colour = elements$label_text_colour)\n  )\n```\n\n`r chart_details$subtitle`\n\n```{r display plot, echo=FALSE, include=TRUE}\nadd_logo(chart + labs(title = NULL, subtitle = NULL), \n\t\t\t\t chart_details$source_title, chart_details$id)\n```\n\n[larger image](../`r chart_details$id`.png)\n| [annotated R code to produce this chart](https://github.com/mpjashby/lesscrime.info/blob/master/content/post/`r chart_details$id`.Rmd)\n\nData sources: [Homicide counts 1898 to 2001/02](`r chart_details$source_url`),\n[Homicide counts 2001/02 onwards](https://www.ons.gov.uk/peoplepopulationandcommunity/crimeandjustice/datasets/crimeinenglandandwalesappendixtables), [Population estimates 1838 to 2018](https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland).\n\n### Notes\n\nThis chart uses police-recorded homicide offences because that time series \nextends further back in time than the [Home Office Homicide Index](https://www.ons.gov.uk/peoplepopulationandcommunity/crimeandjustice/articles/homicideinenglandandwales/yearendingmarch2018#how-is-homicide-defined-and-measured), the main \nalternative source of homicide data. The main disadvantage of this approach is \nthat crimes that are initially recorded homicides in police data but are \nsubsequently discovered not to be will not be included in the Homicide Index\ndata but will be included in police-recorded counts.\n\nVictims of the Hillsborough disaster are recorded in ONS data as manslaughter \ncases in the year ending March 2017 because that was when the revised inquest \nverdicts were returned. However, in the chart above these cases are included in\nthe rate for 1989, when the deaths occurred.\n\n```{r export chart}\n# save PNG for social media\nggsave(\n\tfilename = paste0(chart_details$id, \".png\"), \n\tplot = add_logo(chart, chart_details$source_title, chart_details$id), \n\tdevice = \"png\", width = 600 / 72, height = 400 / 72, units = \"in\"\n)\n```\n","srcMarkdownNoYaml":"\n\n```{r set knitr options, include=FALSE}\nknitr::opts_chunk$set(cache = TRUE, include=FALSE)\n```\n\n```{r set chart parameters}\nchart_details <- list(\n\tid = \"homicide-trends\",\n\ttitle = \"Much of the homicide drop has already been erased\",\n\tsubtitle = \"The rapid decrease in the homicide (murder, manslaughter and infanticide) rate in England and Wales between 2000 and 2014 was unprecedented over the previous century, but a third of that decrease has already been reversed.\",\n\tsource_url = \"https://www.gov.uk/government/statistics/historical-crime-data\",\n\tsource_title = \"Home Office, 2019\"\n)\n```\n\n```{r load packages and helper}\n# custom packages not loaded by helpers.R\nlibrary(\"lubridate\")\nlibrary(\"readxl\")\n\n# load this after loading custom packages\nsource(here::here(\"helpers.R\"))\n```\n\n```{r get and tidy data}\nif (!file.exists(paste0(chart_details$id, \"-data.csv.gz\"))) {\n  \n  # download data up to 2001 from the Home Office\n  data_file <- tempfile()\n  download.file(\"https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/116649/rec-crime-1898-2002.xls\", destfile = data_file)\n  file_data <- read_excel(data_file, skip = 5)\n  \n  # download data for 2002 onwards from ONS\n  download.file(\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/crimeandjustice/datasets/crimeinenglandandwalesappendixtables/yearendingjune2019/appendixtableyearendingjune201915102019170156.xlsx\", destfile = data_file)\n  file_data_new <- read_excel(data_file, sheet = \"Table A4\", skip = 3)\n  \n  tidy_data <- file_data %>% \n    select(2:3) %>% \n    slice(2:101, 104:107) %>% \n    set_names(c(\"year\", \"homicide_count\")) %>% \n    mutate(\n      year = ymd(paste(str_sub(year, 0, 4), \"01\", \"01\")),\n      year = if_else(row_number() >= 101, year + months(3), year)\n    )\n  \n  tidy_data_new <- file_data_new %>% \n    select(3:20) %>%\n    slice(9) %>% \n    pivot_longer(-`...3`, names_to = \"year\", values_to = \"homicide_count\") %>% \n    select(-`...3`) %>% \n    mutate(year = ymd(paste(str_sub(year, 6, 7), \"04\", \"01\")))\n  \n  tidy_data <- bind_rows(tidy_data, tidy_data_new) %>% \n    mutate(homicide_count = as.numeric(homicide_count))\n  \n\t# save tidy data\n\twrite_csv(tidy_data, paste0(chart_details$id, \"-data.csv.gz\"))\t\n\t\n} else {\n  \n\t# load tidy data\n\ttidy_data <- read_csv(paste0(chart_details$id, \"-data.csv.gz\"))\n  \n}\t\n\n# get population data\nif (!file.exists(paste0(chart_details$id, \"-pop-data.csv.gz\"))) {\n  \n  pop_file <- tempfile()\n  download.file(\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland/mid2016detailedtimeseries/ukandregionalpopulationestimates1838to2016.zip\", destfile = pop_file)\n  unzip(pop_file, files = \"UK Population Estimates 1838-2016.xlsx\", \n        exdir = tempdir())\n  \n  pop_data <- read_excel(\n    paste0(tempdir(), \"/UK Population Estimates 1838-2016.xlsx\"), \n    sheet = \"Table 7\", skip = 4\n  ) %>% \n    select(Year, Persons) %>% \n    slice(1:179) %>% \n    clean_names() %>% \n    mutate(year = as.numeric(str_remove(year, \"Mid-\")))\n  \n  pop_data_new <- read_csv(\"https://www.ons.gov.uk/generator?format=csv&uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/timeseries/ewpop/pop\") %>% \n    slice(8:55) %>% \n    clean_names() %>% \n    set_names(c(\"year\", \"persons\")) %>% \n    filter(year > 2016) %>% \n    mutate_all(as.numeric)\n  \n  pop_data <- pop_data %>% \n    bind_rows(pop_data_new) %>% \n    arrange(year)\n  \n\t# save tidy data\n\twrite_csv(pop_data, paste0(chart_details$id, \"-pop-data.csv.gz\"))\t\n\t\n} else {\n  \n\t# load tidy data\n\tpop_data <- read_csv(paste0(chart_details$id, \"-pop-data.csv.gz\"))\n  \n}\n```\n\n```{r prepare data for chart}\nchart_data <- tidy_data %>% \n  mutate(year = year(year)) %>% \n  filter(year > last(year) - 99) %>% \n  select(year, homicides = homicide_count) %>%\n  # move Hillsborough deaths from 2016 to 1989\n  mutate(homicides = case_when(\n    year == 1989 ~ homicides + 96, \n    year == 2016 ~ homicides - 96, \n    TRUE ~ homicides\n  )) %>% \n  left_join(pop_data, by = \"year\") %>% \n  mutate(\n    homicide_rate = (homicides / persons) * 1000000,\n    year = ymd(paste(year, \"01\", \"01\"))\n  )\n\n# add chart labels\nchart_labels <- tribble(\n\t~x, ~y, ~xend, ~yend, ~label, ~hjust, ~vjust, ~curve,\n\tymd(\"1941-01-01\"), 9.25, ymd(\"1937-01-01\"), 11, balance_lines(\"the homicide rate increased during the Second World War\", 4), \"right\", \"center\", \"right\",\n\tymd(\"1961-06-01\"), 5.5, ymd(\"1966-06-01\"), 4.5, balance_lines(\"the homicide rate was lowest in 1961\", 2), \"left\", \"center\", \"right\",\n\tymd(\"1985-01-01\"), 13, ymd(\"1979-01-01\"), 15, balance_lines(\"in the 40 years between 1960 and 2000, the homicide rate trippled\", 3), \"right\", \"center\", \"right\",\n\tymd(\"2002-06-01\"), 19.7, ymd(\"2004-06-01\"), 18.7, balance_lines(\"the 173 Harold Shipman murders are recorded as all occurring in 2002\", 5), \"left\", \"center\", \"right\",\n\tymd(\"2013-06-01\"), 9.1, ymd(\"2008-06-01\"), 8.1, balance_lines(\"after 15 years of decreases, the homicide rate has been rising since 2014\", 3), \"right\", \"center\", \"left\"\n\t# ymd(\"1961-06-01\"), 5.5, ymd(\"1966-06-01\"), 4.5, balance_lines(\"\", 2), \"left\", \"center\", \"right\"\n)\n```\n\n```{r build plot}\nchart <- ggplot(chart_data, aes(year, homicide_rate)) +\n  geom_point(aes(alpha = \"point\"), colour = \"grey75\", na.rm = TRUE) +\n  geom_smooth(aes(colour = \"line\"), method = \"loess\", formula = \"y ~ x\", span = 0.2, se = FALSE, \n              na.rm = TRUE, key_glyph = \"timeseries\", alpha = 1) +\n\t# add explanatory labels\n\tgeom_curve(aes(x = x, y = y, xend = xend, yend = yend),\n\t\t\t\t\t\t data = filter(chart_labels, curve == \"right\"), inherit.aes = FALSE, \n\t\t\t\t\t\t curvature = elements$label_line_curvature, \n\t\t\t\t\t\t colour = elements$label_line_colour, \n\t\t\t\t\t\t arrow = elements$label_arrow, show.legend = FALSE) +\n\tgeom_segment(aes(x = x, y = y, xend = xend, yend = yend),\n\t\t\t\t\t\t data = filter(chart_labels, curve == \"straight\"), \n\t\t\t\t\t\t inherit.aes = FALSE, colour = elements$label_line_colour, \n\t\t\t\t\t\t arrow = elements$label_arrow, show.legend = FALSE) +\n\tgeom_curve(aes(x = x, y = y, xend = xend, yend = yend),\n\t\t\t\t\t\t data = filter(chart_labels, curve == \"left\"), inherit.aes = FALSE, \n\t\t\t\t\t\t curvature = elements$label_line_curvature * -1, \n\t\t\t\t\t\t colour = elements$label_line_colour, \n\t\t\t\t\t\t arrow = elements$label_arrow, show.legend = FALSE) +\n\tgeom_label(aes(x = xend, y = yend, label = label, hjust = hjust, \n\t\t\t\t\t\t\t\t vjust = vjust),\n\t\t\t\t\t\tdata = chart_labels, inherit.aes = FALSE, \n\t\t\t\t\t\tcolour = elements$label_text_colour,\n\t\t\t\t\t\tfill = elements$label_text_fill, size = elements$label_text_size, \n\t\t\t\t\t\tlineheight = elements$label_text_lineheight,\n\t\t\t\t\t\tlabel.size = NA, show.legend = FALSE) +\n\t# end of explanatory labels\n  scale_x_date(date_breaks = \"10 years\", date_labels = \"%Y\", \n               expand = expand_scale(mult = 0.025)) +\n  scale_y_continuous(limits = c(0, NA), \n                     expand = expand_scale(mult = c(0, 0.05))) +\n  scale_colour_manual(\n    values = c(\"line\" = ucl_colours_list[[\"Orange\"]]),\n    labels = c(\"line\" = \"trend estimated from annual rates\")\n  ) + \n  scale_alpha_manual(\n    values = c(\"point\" = 1),\n    labels = c(\"point\" = \"annual homicide rate\")\n  ) +\n\tlabs(\n\t\ttitle = chart_details$title,\n\t\tsubtitle = format_subtitle(chart_details$subtitle),\n\t\tlegend = NULL,\n\t\tx = NULL,\n\t\ty = \"homicides per million people\",\n\t\talpha = NULL,\n\t\tcolour = NULL\n\t) +\n\ttheme_cjcharts() +\n  theme(\n    legend.background = element_rect(fill = \"white\", colour = \"white\"),\n    legend.direction = \"horizontal\",\n    legend.justification = c(0, 0),\n    legend.key.width = unit(1, \"lines\"),\n    legend.margin = margin(3, 4, 3, 4),\n    legend.position = c(0, 0.025),\n    legend.spacing = unit(0, \"lines\"),\n    legend.text = element_text(colour = elements$label_text_colour)\n  )\n```\n\n`r chart_details$subtitle`\n\n```{r display plot, echo=FALSE, include=TRUE}\nadd_logo(chart + labs(title = NULL, subtitle = NULL), \n\t\t\t\t chart_details$source_title, chart_details$id)\n```\n\n[larger image](../`r chart_details$id`.png)\n| [annotated R code to produce this chart](https://github.com/mpjashby/lesscrime.info/blob/master/content/post/`r chart_details$id`.Rmd)\n\nData sources: [Homicide counts 1898 to 2001/02](`r chart_details$source_url`),\n[Homicide counts 2001/02 onwards](https://www.ons.gov.uk/peoplepopulationandcommunity/crimeandjustice/datasets/crimeinenglandandwalesappendixtables), [Population estimates 1838 to 2018](https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland).\n\n### Notes\n\nThis chart uses police-recorded homicide offences because that time series \nextends further back in time than the [Home Office Homicide Index](https://www.ons.gov.uk/peoplepopulationandcommunity/crimeandjustice/articles/homicideinenglandandwales/yearendingmarch2018#how-is-homicide-defined-and-measured), the main \nalternative source of homicide data. The main disadvantage of this approach is \nthat crimes that are initially recorded homicides in police data but are \nsubsequently discovered not to be will not be included in the Homicide Index\ndata but will be included in police-recorded counts.\n\nVictims of the Hillsborough disaster are recorded in ONS data as manslaughter \ncases in the year ending March 2017 because that was when the revised inquest \nverdicts were returned. However, in the chart above these cases are included in\nthe rate for 1989, when the deaths occurred.\n\n```{r export chart}\n# save PNG for social media\nggsave(\n\tfilename = paste0(chart_details$id, \".png\"), \n\tplot = add_logo(chart, chart_details$source_title, chart_details$id), \n\tdevice = \"png\", width = 600 / 72, height = 400 / 72, units = \"in\"\n)\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.551","author":[{"name":"Matt Ashby"},"Matt Ashby"],"theme":["sandstone","../../custom.scss"],"date-format":"D MMM YYYY","title":"Chart: Much of the homicide drop has already been erased","date":"2019-10-21","slug":"homicide-trends","categories":["Crime and justice chart of the week"],"tags":["crime","homicide","trends"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}